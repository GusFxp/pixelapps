<!DOCTYPE html>
<html>
  <head>
    <title>Admin - Lista de Apps</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles.css" />
    <style>
      body {
        background-color: #0a0a1a;
        color: #cbd6f7;
        font-family: "Orbitron", sans-serif;
        padding: 20px;
      }

      h1 {
        text-align: center;
        margin-bottom: 20px;
      }

      ul {
        list-style: none;
        padding: 0;
        max-width: 600px;
        margin: 0 auto;
      }

      li {
        background: #111129;
        border: 1px solid #00bfff;
        margin-bottom: 12px;
        padding: 12px 16px;
        border-radius: 8px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 0 8px #00bfff88;
        gap: 12px;
      }

      li > div:first-child {
        flex-grow: 1;
        margin-right: 12px;
        word-break: break-word;
      }

      .actions {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .actions a,
      .actions button {
        background: #00bfff;
        color: #0a0a1a;
        border: none;
        padding: 6px 12px;
        border-radius: 6px;
        font-weight: 700;
        font-size: 0.9rem;
        cursor: pointer;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        box-shadow: 0 0 10px #00bfffaa;
        transition: background-color 0.3s ease;
      }

      .actions a:hover,
      .actions button:hover {
        background: #00d4ff;
        box-shadow: 0 0 14px #00d4ffcc;
      }

      .actions form {
        margin: 0;
        display: inline;
      }

      .actions form button {
        /* remove default form button styles */
        all: unset;
        background: #00bfff;
        color: #0a0a1a;
        padding: 6px 12px;
        border-radius: 6px;
        font-weight: 700;
        font-size: 0.9rem;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        box-shadow: 0 0 10px #00bfffaa;
        transition: background-color 0.3s ease;
      }

      .actions form button:hover {
        background: #00d4ff;
        box-shadow: 0 0 14px #00d4ffcc;
      }

      .mb-4.text-right {
        max-width: 600px;
        margin: 0 auto 20px auto;
        text-align: right;
      }

      .mb-4.text-right a {
        background-color: #16a34a;
        color: white;
        padding: 8px 16px;
        border-radius: 6px;
        text-decoration: none;
        font-weight: bold;
        box-shadow: 0 0 10px #16a34aaa;
        transition: background-color 0.2s ease;
      }

      .mb-4.text-right a:hover {
        background-color: #15803d;
      }
    </style>
  </head>
  <body>
    <h1>Apps Cadastrados</h1>
    <div class="mb-4 text-right">
      <a
        href="/admin/apps/create"
        class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
        >+ Novo App</a
      >
    </div>
    <ul>
      <% apps.forEach(app => { %>
      <li>
        <div>
          <strong><%= app.name %></strong> - <%= app.version %> - <%= app.platform %>
        </div>
        <div class="actions">
          <a href="/admin/apps/edit/<%= app.id %>">Editar</a>
          <form
            action="/admin/apps/delete/<%= app.id %>"
            method="POST"
            onsubmit="return confirm('Confirma exclus√£o do app <%= app.name %>?');"
          >
            <button type="submit">Excluir</button>
          </form>
        </div>
      </li>
      <% }) %>
    </ul>
  </body>
</html>
